(this["webpackJsonpyalantis-task"]=this["webpackJsonpyalantis-task"]||[]).push([[0],{14:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var r,a,c,s,i,o,u,l,d,O=n(0),j=n.n(O),E=n(18),p=n.n(E),f=n(5),m=(n(45),n(46),n(10)),b=n.n(m),h=(n(55),n(1)),v=function(e){var t=e.timeOut,n=void 0===t?4e3:t,r=e.isNewestOnTop,a=void 0===r||r,c=e.isDuplicatesPrevented,s=void 0===c||c,i=e.hasProgressBar,o=void 0===i||i,u=e.isClosingOnClick,l=void 0===u||u,d=e.position,O=void 0===d?"top-right":d,j=e.transitionIn,E=void 0===j?"fadeIn":j,p=e.transitionOut,f=void 0===p?"fadeOut":p,m=e.className;return Object(h.jsx)(b.a,{timeOut:n,newestOnTop:a,preventDuplicates:s,progressBar:o,closeOnToastrClick:l,position:O,transitionIn:E,transitionOut:f,className:m})},y=n(8),N=n.n(y),g=n(17),T=n(15),S=n(7),x=n(3),L=n(6);!function(e){e.API_EMPLOYEES_ORIGIN_URL="https://yalantis-react-school-api.yalantis.com/api/task0/users"}(r||(r={})),function(e){e.IDLE="idle",e.PENDING="pending",e.FULFILLED="fulfilled",e.REJECTED="rejected"}(a||(a={})),function(e){e.GET="GET",e.POST="POST",e.PUT="PUT",e.DELETE="DELETE"}(c||(c={})),function(e){e.JSON="application/json"}(s||(s={})),function(e){e.EMPLOYEE_SELECTED="Employee has been selected successfully \ud83c\udf89",e.EMPLOYEE_SELECTION_DELETED="Selection was removed successfully \ud83c\udf89"}(i||(i={})),function(e){e.SUCCESS="Success!",e.ERROR="Error"}(o||(o={})),function(e){e.HTTP_ERROR="httpError"}(u||(u={})),function(e){e.CONTENT_TYPE="content-type",e.AUTHORIZATION="authorization"}(l||(l={})),function(e){e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR"}(d||(d={}));var R,C=n(31),w=n(34),D=n(35),I="Network Error",k=function(e){Object(C.a)(n,e);var t=Object(w.a)(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.status,c=void 0===a?d.INTERNAL_SERVER_ERROR:a,s=r.message,i=void 0===s?I:s;return Object(x.a)(this,n),(e=t.call(this,i)).status=void 0,e.status=c,e.name=u.HTTP_ERROR,e}return n}(Object(D.a)(Error)),P=n(32),_=function(){function e(){Object(x.a)(this,e)}return Object(L.a)(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.method,a=void 0===r?c.GET:r,s=n.contentType,i=n.query,o=this.getHeaders({contentType:s});return fetch(this.getUrl(e,i),{method:a,headers:o}).then(this.checkStatus).then((function(e){return t.parseJSON(e)})).catch(this.throwError)}},{key:"getUrl",value:function(e,t){return"".concat(e).concat(t?"?".concat(function(e){return Object(P.stringify)(e)}(t)):"")}},{key:"getHeaders",value:function(e){var t=e.contentType,n=new Headers;return t&&n.append(l.CONTENT_TYPE,t),n}},{key:"checkStatus",value:function(){var e=Object(T.a)(N.a.mark((function e(t){var n;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.ok){e.next=5;break}return e.next=3,t.json().catch((function(){return{message:t.statusText}}));case 3:throw n=e.sent,new k({status:t.status,message:null===n||void 0===n?void 0:n.message});case 5:return e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"parseJSON",value:function(e){return e.json()}},{key:"throwError",value:function(e){throw e}}]),e}(),A=n(2),U=n(12),M=Object(U.a)("storage"),B=function(){function e(t){var n=t.storage;Object(x.a)(this,e),Object.defineProperty(this,M,{writable:!0,value:void 0}),Object(A.a)(this,M)[M]=n}return Object(L.a)(e,[{key:"getItem",value:function(e){return Object(A.a)(this,M)[M].getItem(e)}},{key:"setItem",value:function(e,t){return Object(A.a)(this,M)[M].setItem(e,t)}},{key:"removeItem",value:function(e){return Object(A.a)(this,M)[M].removeItem(e)}},{key:"clear",value:function(){return Object(A.a)(this,M)[M].clear()}}]),e}(),Y=Object(U.a)("http"),F=function(){function e(t){var n=t.http;Object(x.a)(this,e),Object.defineProperty(this,Y,{writable:!0,value:void 0}),Object(A.a)(this,Y)[Y]=n}return Object(L.a)(e,[{key:"getEmployees",value:function(){return Object(A.a)(this,Y)[Y].load("".concat(r.API_EMPLOYEES_ORIGIN_URL),{method:c.GET})}}]),e}(),G=Object(U.a)("instance"),H=function(){function e(){Object(x.a)(this,e),Object.defineProperty(this,G,{writable:!0,value:void 0}),Object(A.a)(this,G)[G]=m.toastr}return Object(L.a)(e,[{key:"success",value:function(e,t,n){Object(A.a)(this,G)[G].success(e,t,n)}},{key:"info",value:function(e,t,n){Object(A.a)(this,G)[G].info(e,t,n)}},{key:"warning",value:function(e,t,n){Object(A.a)(this,G)[G].warning(e,t,n)}},{key:"error",value:function(e,t,n){Object(A.a)(this,G)[G].error(e,t,n)}}]),e}(),J=new B({storage:localStorage}),V=new F({http:new _}),Z=new H;!function(e){e.EMPLOYEES_GET="employees/get",e.EMPLOYEE_SELECT="employee/select"}(R||(R={}));var K=Object(S.b)(R.EMPLOYEES_GET,function(){var e=Object(T.a)(N.a.mark((function e(t,n){var r,a,c;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,console.log(t),a=r.storage,e.next=5,V.getEmployees();case 5:return c=e.sent,e.abrupt("return",c.map((function(e){return Object(g.a)(Object(g.a)({},e),{},{isActive:Boolean(a.getItem(e.id))})})));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Q=Object(S.b)(R.EMPLOYEE_SELECT,function(){var e=Object(T.a)(N.a.mark((function e(t,n){var r,a,c,s,u,l,d;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.extra,a=n.getState,c=r.storage,s=r.notification,u=a(),l=u.employees,(d=c.getItem(t))?(c.removeItem(t),s.warning(o.SUCCESS,i.EMPLOYEE_SELECTION_DELETED)):(c.setItem(t,"value"),s.success(o.SUCCESS,i.EMPLOYEE_SELECTED)),e.abrupt("return",l.employees.map((function(e){return e.id!==t?e:Object(g.a)(Object(g.a)({},e),{},{isActive:Boolean(!d)})})));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),W=(n(14),function(){return Object(h.jsx)("div",{className:"spinnerContainer",children:Object(h.jsx)("div",{className:"spinner"})})}),q=n(33),z=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],X=["January","February","March","April","May","June","July","August","September","October","November","December"],$=function(e){var t=e.employees,n=Object(O.useState)(!1),r=Object(q.a)(n,2),a=r[0],c=r[1],s=Object(f.useDispatch)(),i=function(){var e=Object(O.useRef)(null);return Object(O.useEffect)((function(){var t=e.current;if(t){var n=function(e){0!=e.deltaY&&(e.preventDefault(),t.scrollTo({left:t.scrollLeft+e.deltaY,behavior:"smooth"}))};return t.addEventListener("wheel",n),function(){return t.removeEventListener("wheel",n)}}}),[]),e}(),o=function(e){s(Q(e))};return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"employees",onScroll:function(e){e.currentTarget.scrollTop>80?c(!0):c(!1)},ref:i,children:[Object(h.jsx)("h2",{className:a?"employeesHeader opacityNull":"employeesHeader",children:"Employees"}),Object(h.jsx)("div",{className:"listWrapper",children:z.map((function(e){var n=!1;return Object(h.jsxs)("div",{className:"letterColumn",children:[Object(h.jsx)("h3",{children:e}),t.map((function(t){if(e===t.firstName[0].toUpperCase())return n=!0,Object(h.jsx)(ee,{employee:t,onEmployeeSelect:o},t.id)})),!Boolean(n)&&Object(h.jsx)("span",{className:"employeeCard",children:Object(h.jsx)("b",{children:"No Employees"})})]},e)}))})]})})},ee=function(e){var t=e.employee,n=e.onEmployeeSelect;return Object(h.jsxs)("div",{className:"employeeCard",children:[Object(h.jsxs)("div",{className:t.isActive?"blue employeeName":"employeeName",children:[t.firstName," ",t.lastName]}),Object(h.jsxs)("form",{className:"radioWrapper",children:[Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"radio",checked:!t.isActive,onChange:function(){return n(t.id)}}),"not active"]}),Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"radio",checked:t.isActive,onChange:function(){return n(t.id)}}),"active"]})]})]})},te=function(e){var t,n=e.employees.filter((function(e){return e.isActive})).sort((function(e,t){var n=e.lastName.toLowerCase(),r=t.lastName.toLowerCase();return n<r?-1:n>r?1:0})),r=[];r=X.slice((new Date).getMonth()),t=X.slice(0,(new Date).getMonth());var a=r.concat(t),c=Boolean(n.length);return Object(h.jsxs)("div",{className:"employeesBirthday",children:[Object(h.jsx)("h2",{children:"Employees birthday"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{className:"separator"}),c?a.map((function(e){var t=!1;return Object(h.jsxs)("div",{className:"monthCard",children:[Object(h.jsx)("div",{children:e}),n.map((function(n){if(new Date(n.dob).toLocaleString("en-EN",{month:"long"})===e)return t=!0,Object(h.jsx)(ne,{employee:n},n.id)})),!Boolean(t)&&Object(h.jsx)("div",{className:"employeeBirthdayCard",children:"No Employees"})]},e)})):Object(h.jsx)("div",{children:"Employees List is empty"})]})]})},ne=function(e){var t=e.employee,n=new Date(t.dob).toLocaleString("en-EN",{month:"long"}),r=new Date(t.dob).toLocaleString("en-EN",{year:"numeric"}),a=new Date(t.dob).toLocaleString("en-EN",{day:"numeric"});return Number(a)<10&&(a="0"+a),Object(h.jsx)("div",{className:"employeeBirthdayCard",children:Object(h.jsxs)("div",{children:[t.lastName," ",t.firstName," - ",a," ",n,", ",r," year"]})})},re=f.useSelector,ae=function(){var e=re((function(e){var t=e.employees;return{employees:t.employees,dataStatus:t.dataStatus}})),t=e.employees,n=e.dataStatus,r=Object(f.useDispatch)();return Object(O.useEffect)((function(){r(K())}),[r]),n===a.PENDING?Object(h.jsx)(W,{}):Object(h.jsxs)("div",{className:"employeesPage",children:[Object(h.jsx)($,{employees:t}),Object(h.jsx)(te,{employees:t})]})},ce=function(){return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(ae,{}),Object(h.jsx)(v,{})]})},se=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),r(e),a(e),c(e),s(e)}))},ie=n(4),oe={dataStatus:a.IDLE,employees:[]},ue=Object(S.c)({name:"employees",initialState:oe,reducers:{},extraReducers:function(e){e.addCase(K.pending,(function(e){e.dataStatus=a.PENDING})),e.addCase(K.fulfilled,(function(e,t){e.dataStatus=a.FULFILLED,e.employees=t.payload})),e.addCase(K.rejected,(function(e){e.dataStatus=a.REJECTED})),e.addCase(Q.fulfilled,(function(e,t){e.employees=t.payload}))}}).reducer,le=Object(ie.b)({employees:ue,toastr:m.reducer}),de={employeesApi:V,storage:J,notification:Z},Oe=Object(S.a)({reducer:le,middleware:function(e){return e({thunk:{extraArgument:de}})}});p.a.render(Object(h.jsx)(j.a.StrictMode,{children:Object(h.jsx)(f.Provider,{store:Oe,children:Object(h.jsx)(ce,{})})}),document.getElementById("root")),se()}},[[72,1,2]]]);
//# sourceMappingURL=main.a9f626d7.chunk.js.map